package wtf.l4j.impl.modules.exploit;

import de.florianmichael.dietrichevents2.DietrichEvents2;

import net.minecraft.block.Blocks;
import net.minecraft.client.network.ClientPlayerEntity;
import net.minecraft.util.math.BlockPos;
import wtf.l4j.api.event.GameTickListener;
import wtf.l4j.api.event.WorldRenderListener;
import wtf.l4j.api.module.Category;
import wtf.l4j.api.module.Module;
import wtf.l4j.api.module.ModuleInfo;
import wtf.l4j.api.module.option.options.OptionSlider;
import wtf.l4j.api.utils.world.BlockUtils;

import java.util.ArrayList;
import java.util.List;

@ModuleInfo(name = "CopperTrails(WIP)", desc = "Like the 1.12.2 NewChunks hack", category = Category.EXPLOIT)
public class CopperTrails extends Module implements WorldRenderListener, GameTickListener {

    private OptionSlider radius = new OptionSlider("Radius", 20, 300, 1, 100);

    public CopperTrails(){
        addOptions(radius);
    }

    @Override
    public void onEnable() {
        DietrichEvents2.global().subscribe(RenderWorldEvent.ID, this);
        DietrichEvents2.global().subscribe(GameTickEvent.ID, this);
        super.onEnable();
    }

    @Override
    public void onDisable() {
        DietrichEvents2.global().unsubscribe(RenderWorldEvent.ID, this);
        DietrichEvents2.global().unsubscribe(GameTickEvent.ID, this);
        super.onDisable();
    }

    @Override
    public void onRenderWorld(RenderWorldEvent event) {

    }

    @Override
    public void onGameTick() {
        List<BlockPos> blocksPoses = BlockUtils.getSphere(BlockUtils.getPlayerPosFloored(), radius.getFloatValue(), 0, false, true, 0);
        for(BlockPos blockPos : blocksPoses){
            if(mc.world.getDimension().bedWorks()){
                if(mc.world.getBlockState(blockPos).getBlock() == Blocks.COPPER_ORE){
                }
            }else {
                if(mc.world.getBlockState(blockPos).getBlock() == Blocks.ANCIENT_DEBRIS){
                }
            }
        }
    }
}
